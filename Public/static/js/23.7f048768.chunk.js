"use strict";(self.webpackChunktest_demo=self.webpackChunktest_demo||[]).push([[23],{66024:function(e,a,r){var s=r(79429),n=r(15869),t=(0,s.j0)({validationSchema:n.Ry().shape({name:n.Z_().required("Please enter charger name"),capacity:n.Rx().required("Please enter capacity size").positive("Capacity size must be a positive number").typeError("Capacity size must be a number").max(100,"Capacity size must not exceed 100"),ElectricCurrentType:n.Z_().required("Please select the AC or DC type"),chargerType:n.Z_().required("Please select the charger type"),image:n.nK().required("Please upload image")}),mapPropsToValues:function(e){return{name:"",capacity:"",ElectricCurrentType:"",chargerType:"",image:""}},validateOnMount:!0,handleSubmit:function(e){},displayName:"ChargerValidationForm",enableReinitialize:!0});a.Z=t},7191:function(e,a,r){r.r(a),r.d(a,{default:function(){return b}});var s=r(74165),n=r(15861),t=r(29439),c=r(47313),i=r(1084),l=r(1413),o=r(9038),d=r(23778),u=r(46417);(0,o.qC)((0,i.$j)((function(e){return(0,l.Z)((0,l.Z)({},e.themeChanger),{},{token:e.auth.accessToken})})))((function(){return(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsx)("div",{style:{width:"initial"},children:(0,u.jsxs)("button",{type:"submit",className:"c-primary btn btn-secondary w-100 addbtncolor btn-bordered",children:[(0,u.jsx)(d.Z,{})," ",(0,u.jsx)("span",{children:"Back"})]})})})}));var m=r(79429),h=r(66024),p=r(56734),f=(r(20652),r(18018),r(58187),r(22301)),x=r(58467),g=r(78911),j=(r(51277),p.Z.success),y=p.Z.error,v=p.Z.fetching,b=(0,o.qC)(h.Z,(0,i.$j)((function(e){return{token:e.auth.accessToken}}),{success:j,error:y,fetching:v}))((function(e){var a=e.values,r=e.handleChange,i=e.handleBlur,l=e.errors,o=e.touched,h=e.submitCount,p=e.token,v=e.isValid,b=e.setValues,N=e.handleSubmit,C=(e.toggleRefresh,e.setFieldValue),k=(0,x.s0)(),Z=(0,x.UO)().id,w=(0,c.useState)([]),T=(0,t.Z)(w,2),E=(T[0],T[1]),R=(0,c.useState)([]),S=(0,t.Z)(R,2),D=(S[0],S[1]),q=(0,c.useState)([]),P=(0,t.Z)(q,2),z=(P[0],P[1],(0,c.useState)(!1)),B=(0,t.Z)(z,2),_=B[0],F=B[1],V=(0,c.useState)(),W=(0,t.Z)(V,2),A=W[0],O=W[1],I=(0,c.useState)(!1),L=(0,t.Z)(I,2),U=L[0],K=L[1],$=(0,c.useState)(!1),M=(0,t.Z)($,2),Y=M[0],G=M[1],H=(0,c.useState)(),J=(0,t.Z)(H,2);J[0],J[1];(0,c.useEffect)((function(){Z&&(G(!0),F(!0),(0,f.rg)(p,Z).then((function(e){e&&(b(e.data),O(e.data.image),F(!1))})))}),[Z,b]);var Q=function(){var e=(0,n.Z)((0,s.Z)().mark((function e(r){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),N(),v){e.next=4;break}return e.abrupt("return");case 4:if(F(!0),(n=new FormData).append("name",a.name.toLowerCase()),n.append("image",a.image),n.append("ElectricCurrentType",a.ElectricCurrentType),n.append("chargerType",a.chargerType),n.append("capacity",a.capacity),!Z){e.next=16;break}return e.next=14,(0,f.OY)(p,n,Z).then((function(e){e.success?(F(!1),j(e.message),k("/chargers")):y(e.message)}));case 14:e.next=18;break;case 16:return e.next=18,(0,f.g9)(p,n).then((function(e){e.success?(F(!1),j(e.message),k("/chargers"),D([])):y(e.message)}));case 18:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){var e=function(){var e=(0,n.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.pc)(p).then((function(e){e.success?E(e.data):y(e.message)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var X=function(e){var a=e.field;return l[a]&&o[a]||h>0?(0,u.jsx)("span",{className:e.className?e.className:"error-msg",children:l[a]}):(0,u.jsx)("span",{})};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"work-card",children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col",children:void 0!==Z?(0,u.jsx)("h1",{children:"Edit Charger"}):(0,u.jsx)("h1",{children:"Add Charger"})}),(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsxs)("button",{type:"submit",className:"btn btn-danger",onClick:function(){return k("/chargers")},children:[(0,u.jsx)(d.Z,{})," ",(0,u.jsx)("span",{children:"Back"})]})})]})}),_?(0,u.jsx)(g.Z,{}):(0,u.jsxs)("div",{className:"work-body mt-2 card p-4",children:[(0,u.jsxs)("div",{className:"div-container ",children:[(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsxs)("label",{children:["Charger Name"," ",(0,u.jsx)("span",{style:{color:"red",fontWeight:"bold"},children:"*"})]}),(0,u.jsx)("input",{type:"text",className:"form-control react-form-input",id:"name",onChange:r,onBlur:i,value:a.name,placeholder:"Charger Name"}),(0,u.jsx)(X,{field:"name"})]}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsxs)("label",{children:["kw Range"," ",(0,u.jsx)("span",{style:{color:"red",fontWeight:"bold"},children:"*"})]}),(0,u.jsx)("input",{type:"number",className:"form-control react-form-input",id:"capacity",onChange:r,onBlur:i,value:a.capacity,onKeyDown:function(e){"e"!==e.key&&"E"!==e.key||e.preventDefault()},placeholder:"kw Range"}),(0,u.jsx)(X,{field:"capacity"})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-2"}),(0,u.jsxs)("div",{className:"form-group col auto",children:[(0,u.jsxs)("label",{className:"mr-4",children:["Current Type"," ",(0,u.jsx)("span",{style:{color:"red",fontWeight:"bold"},children:"*"})]}),(0,u.jsxs)("label",{children:[(0,u.jsx)(m.gN,{type:"radio",className:"mr-1",name:"ElectricCurrentType",value:"AC"}),"AC"]}),"\xa0 ",(0,u.jsx)("span",{className:"mx-3"}),(0,u.jsxs)("label",{class:"form-check-label",for:"flexRadioDefault1",children:[(0,u.jsx)(m.gN,{type:"radio",className:"mr-1",name:"ElectricCurrentType",value:"DC"}),"DC"]}),(0,u.jsx)("div",{children:(0,u.jsx)(X,{field:"ElectricCurrentType"})})]}),(0,u.jsxs)("div",{className:"form-group col auto",children:[(0,u.jsxs)("label",{className:"mr-4",children:["Charger Type"," ",(0,u.jsx)("span",{style:{color:"red",fontWeight:"bold"},children:"*"})]}),(0,u.jsxs)("label",{children:[(0,u.jsx)(m.gN,{type:"radio",className:"mr-1 ",name:"chargerType",value:"regular"}),"Regular"]}),(0,u.jsx)("span",{className:"mx-2"}),(0,u.jsxs)("label",{class:"form-check-label",for:"flexRadioDefault1",children:[(0,u.jsx)(m.gN,{type:"radio",className:"mr-1",name:"chargerType",value:"fast"}),"Fast"]}),(0,u.jsx)("div",{children:(0,u.jsx)(X,{field:"chargerType"})})]}),(0,u.jsx)("div",{className:"col-2"})]}),(0,u.jsxs)("div",{className:" form-group ",children:[(0,u.jsxs)("label",{children:["Image"," ",(0,u.jsx)("span",{style:{color:"red",fontWeight:"bold"},children:"*"})]}),(0,u.jsx)("input",{type:"file",id:"image",className:"form-control react-form-input",accept:".jpg,.png,.jpeg,.svg",onChange:function(e){if(e.target.files[0]){C("image",e.target.files[0]);var a=URL.createObjectURL(e.target.files[0]);O(a),K(!0)}},onBlur:i}),Y&&!U?(0,u.jsx)("div",{className:"h-80 d-inline-block rounded-0",children:(0,u.jsx)("img",{style:{marginRight:"10px"},src:"".concat("http://3.142.224.88:8000","/").concat(A),alt:"Preview",className:"rounded-0 previewImage"})}):U&&(0,u.jsx)("a",{href:"".concat(A),target:"_blank",rel:"noopener noreferrer",children:(0,u.jsx)("div",{className:"h-80 d-inline-block rounded-0",children:(0,u.jsx)("img",{src:A,className:"rounded-0 previewImage"})})})]}),(0,u.jsx)(X,{field:"image"})]}),(0,u.jsx)("div",{className:"row  mt-4 justify-content-center",children:(0,u.jsx)("button",{color:"success",onClick:function(e){return Q(e)},type:"submit",className:"btn btn-success mx-3 btnsize",disabled:_,children:"Save"})})]})]})}))}}]);