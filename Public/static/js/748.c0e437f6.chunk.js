"use strict";(self.webpackChunktest_demo=self.webpackChunktest_demo||[]).push([[748],{83792:function(n,e,t){var a=t(29439),r=t(1413),i=t(47313),o=t(26418),c=t(23486),s=t(46417),l=function(n){return(0,s.jsx)("button",(0,r.Z)((0,r.Z)({},n),{},{children:n.children}))};e.Z=function(n){var e=(0,i.useState)(null),t=(0,a.Z)(e,2),r=t[0],u=t[1],d=n.PageButtonComponent,h=void 0===d?l:d,m=n.changeMethodFlag,p=n.onPageChange,f=n.page,g=n.resetMethodFlag,x=n.page+1,b=(0,i.useCallback)((function(n,e){return e<7?v([1,2,3,4,5,6],e):n%5>=0&&n>4&&n+2<e?[1,n-1,n,n+1,e]:n%5>=0&&n>4&&n+2>=e?[1,e-3,e-2,e-1,e]:[1,2,3,4,5,e]}),[]);(0,i.useEffect)((function(){u(b(null,n.pages))}),[b,n.pages]),(0,i.useEffect)((function(){m&&(0===f?(p(null),p(0)):p(0),g())}),[m,p,f,g]);var v=function(n,e){return n.filter((function(n){return n<=e}))},j=function(e){if(e!==n.page+1){var t=b(e,n.pages);u(v(t,n.pages)),n.onPageChange(e-1)}};return(0,s.jsxs)("div",{className:"Table__pagination",children:[(0,s.jsx)("div",{className:"Table__prevPageWrapper",children:(0,s.jsx)(h,{className:"Table__pageButton",onClick:function(){1!==x&&j(x-1)},disabled:1===x,children:(0,s.jsx)(o.Z,{size:18})})}),(0,s.jsx)("div",{className:"Table__visiblePagesWrapper",children:r&&r.map((function(n,e,t){return(0,s.jsx)(h,{className:x===n?"Table__pageButton Table__pageButton--active":"Table__pageButton",onClick:j.bind(null,n),children:t[e-1]+2<n?"...".concat(n):n},n)}))}),(0,s.jsx)("div",{className:"Table__nextPageWrapper",children:(0,s.jsx)(h,{className:"Table__pageButton",onClick:function(){x!==n.pages&&j(x+1)},disabled:x===n.pages,children:(0,s.jsx)(c.Z,{size:18})})})]})}},5941:function(n,e,t){t(47313);var a=t(97520),r=t.n(a),i=t(46417);e.Z=function(n){var e=n.isOpen,t=n.onClose,a=n.confirmText,o=n.message,c=n.handleConfirm,s=n.cancleBtnTxt,l=n.customIcon,u=n.titleTxt,d=a||"Yes, delete it!",h=!!l;return(0,i.jsx)("div",{children:(0,i.jsx)(r(),{warning:!l,custom:h,showCancel:!0,show:e,confirmBtnText:d,confirmBtnBsStyle:"secondary btn-sm confirmBtn",cancelBtnBsStyle:"success btn-sm confirmBtn",title:u||"",customIcon:l,onConfirm:function(){c()},onCancel:t,cancelBtnText:s||"Cancel",children:o})})}},28767:function(n,e,t){var a,r=t(30168),i=t(17387).ZP.div(a||(a=(0,r.Z)(['\n  .tbl-loader {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    background: rgba(0, 0, 0, 0.05);\n    border-radius: 6px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    .lds-ring {\n      div {\n        width: 8px !important;\n        height: 45px !important;\n        margin: 0px !important;\n        border-color: #563c91 transparent transparent transparent !important;\n      }\n    }\n  }\n\n  .module-header {\n    display: flex;\n    align-items: center;\n    @media (max-width: 575.98px) {\n      display: block;\n      .react-form-input {\n        margin-top: 15px;\n        margin-bottom: 5px;\n      }\n      button {\n        margin: 0 !important;\n      }\n    }\n  }\n  table {\n    width: 100%;\n    border: 1px solid rgba(0, 0, 0, 0.1);\n  }\n\n  tr:nth-child(even) {\n    background: rgba(0, 0, 0, 0.03);\n  }\n\n  tr:nth-child(odd) {\n    background: rgba(255, 255, 255);\n  }\n\n  .table-container {\n    margin: auto 24px;\n    padding-bottom: 20px;\n  }\n  .custom-react-table-theme-class {\n    th {\n      min-width: 200px;\n    }\n    tbody {\n      td {\n        padding: 10px;\n        font-family: "muli-medium";\n        color: #757575;\n      }\n      td.wide-cell {\n        width: 150px;\n      }\n    }\n  }\n\n  .Table__itemCount {\n    font-size: 14px;\n  }\n\n  .Table__pagination {\n    display: flex;\n    justify-content: flex-end;\n    padding: 20px 24px;\n  }\n\n  .Table__pageButton {\n    font-size: 14px;\n    outline: none;\n    border: none;\n    background-color: transparent;\n    cursor: pointer;\n    color: #757575 !important;\n    margin: 0 5px;\n  }\n\n  .Table__pageButton:disabled {\n    cursor: not-allowed;\n    color: gray;\n  }\n\n  .Table__pageButton--active {\n    font-weight: bold;\n    background: #6ab664;\n    color: white !important;\n    width: 38px;\n    height: 29px;\n    border-radius: 6px;\n  }\n\n  .tabl-search {\n    padding: 4px;\n    margin: 10px;\n    border-radius: 3px;\n    border: 1px solid rgba(0, 0, 0, 0.1);\n    &:focus {\n      outline: 0;\n    }\n  }\n\n  .back-icon {\n    position: absolute;\n    right: 30px;\n    bottom: 27px;\n    color: #563c91;\n  }\n\n  .-sort-desc {\n    box-shadow: none !important;\n    &:before {\n      content: "\u25bc";\n      float: right;\n      margin-right: 14px;\n      color: #563c91;\n    }\n  }\n\n  .-sort-asc {\n    box-shadow: none !important;\n    &:before {\n      content: "\u25b2";\n      float: right;\n      margin-right: 14px;\n      color: #563c91;\n    }\n  }\n  .react-action-class.wide-cell {\n    width: 150px;\n  }\n  .react-action-class {\n    button {\n      height: auto !important;\n      width: auto !important;\n    }\n  }\n  .break-word {\n    word-break: break-word;\n  }\n'])));e.Z=i},70668:function(n,e,t){var a=t(79429),r=t(15869),i=(0,a.j0)({validationSchema:r.Ry().shape({title:r.Z_().required("Please enter title"),description:r.Z_().required("Please enter description"),image:r.nK(),stationId:r.Z_().required("Please select station")}),mapPropsToValues:function(n){return{title:"",description:"",image:"",stationId:""}},validateOnMount:!0,handleSubmit:function(n){},displayName:"AminityValidationForm",enableReinitialize:!0});e.Z=i},48934:function(n,e,t){t.d(e,{Bb:function(){return d},JI:function(){return r},Ot:function(){return i},_r:function(){return s},i8:function(){return u},lg:function(){return h},m9:function(){return c},ve:function(){return l},wB:function(){return o}});var a=t(20086),r=function(n){return(0,a.hi)(n).get("admin/dashboard/totalNoOfStation").then(a._y).catch(a.S3)},i=function(n){return(0,a.hi)(n).get("admin/dashboard/getTotalUser").then(a._y).catch(a.S3)},o=function(n){return(0,a.hi)(n).get("admin/dashboard/totalMerchant").then(a._y).catch(a.S3)},c=function(n){return(0,a.hi)(n).get("admin/dashboard/getRecentlySubscribeMerchant").then(a._y).catch(a.S3)},s=function(n,e){return(0,a.hi)(n).get("admin/dashboard/getSubscriptionByMonth?year=".concat(e)).then(a._y).catch(a.S3)},l=function(n,e){return(0,a.hi)(n).get("admin/dashboard/getBookingByYearMonth?year=".concat(e)).then(a._y).catch(a.S3)},u=function(n,e){return(0,a.hi)(n).get("admin/dashboard/getMerchantByYearMonth?year=".concat(e)).then(a._y).catch(a.S3)},d=function(n){return(0,a.hi)(n).get("admin/dashboard/getTotalSubscriptionRevenu").then(a._y).catch(a.S3)},h=function(n){return(0,a.hi)(n).get("admin/station/getAllStations").then(a._y).catch(a.S3)}},46748:function(n,e,t){t.r(e),t.d(e,{default:function(){return E}});var a=t(74165),r=t(15861),i=t(1413),o=t(29439),c=t(47313),s=t(45110),l=t(83792),u=t(28767),d=t(1084),h=t(9038),m=t(88867),p=t(78911),f=t(5211),g=t(5941),x=t(59884),b=t(14303),v=t(42995),j=t(20086),Z=function(n,e){return(0,j.hi)(n).get("admin/nearBy/getNearByLocations?search=".concat(e.search,"&page=").concat(e.currentPage,"&sortBy=").concat(e.sortOrder,"&sortedF=").concat(e.sortBy,"&limit=").concat(e.limit)).then(j._y).catch(j.S3)},y=function(n,e){return(0,j.hi)(n).post("admin/nearBy/addNearByLocation",e).then(j._y).catch(j.S3)},w=function(n,e,t){return(0,j.hi)(n).put("admin/nearBy/updateNearByLocation/".concat(t),e).then(j._y).catch(j.S3)},S=t(93433),_=t(12756),N=t(12213),B=t(70668),C=t(56734),k=t(11585),T=t(48934),P=t(46417),I=C.Z.success,z=C.Z.error,A=C.Z.fetching,R=(0,h.qC)(B.Z,(0,d.$j)((function(n){return(0,i.Z)((0,i.Z)({},n.themeChanger),{},{token:n.auth.accessToken})}),{success:I,error:z,fetching:A}))((function(n){var e=n.isEdit,t=n.editData,s=n.onClose;(0,c.useEffect)((function(){e&&x(t)}),[e]),(0,c.useEffect)((function(){var n=function(){var n=(0,r.Z)((0,a.Z)().mark((function n(){return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,T.lg)(f).then((function(n){var e,t=null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.map((function(n){return{value:n._id,label:n.name}})),a=[{value:"",label:"Select a station",isDisabled:!0}].concat((0,S.Z)(t));D(a)}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]);var l=n.values,u=n.handleChange,d=n.handleBlur,h=n.errors,m=n.touched,p=n.submitCount,f=n.token,g=n.isValid,x=n.setValues,b=n.handleSubmit,v=n.toggleRefresh,j=n.setFieldValue,Z=(0,c.useState)(!1),B=(0,o.Z)(Z,2),C=B[0],A=B[1],R=(0,c.useState)([]),M=(0,o.Z)(R,2),O=M[0],D=M[1],E=function(){var n=(0,r.Z)((0,a.Z)().mark((function n(t){var r;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),b(),g){n.next=4;break}return n.abrupt("return");case 4:if((r=new FormData).append("name",l.title),r.append("description",l.description),r.append("image",l.image),r.append("stationId",l.stationId),A(!0),!e){n.next=15;break}return n.next=13,w(f,r,l._id).then((function(n){n.success?(I(n.message),v(!0),A(!1),s()):(z(n.message),A(!1))}));case 13:n.next=17;break;case 15:return n.next=17,y(f,r).then((function(n){n.success?(I(n.message),A(!1),v(!0),s()):(z(n.message),A(!1),v(!0))}));case 17:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),L=function(n){var e=n.field;return h[e]&&m[e]||p>0?(0,P.jsx)("span",{className:n.class?n.class:"error-msg",children:h[e]}):(0,P.jsx)("span",{})};return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(_.Z,{toggle:function(){return s()},children:[e?"Edit":"Add"," Near By Location"]}),(0,P.jsxs)(N.Z,{children:[(0,P.jsxs)("form",{className:"row g-3",children:[(0,P.jsxs)("div",{className:"col-md-6  form-group",children:[(0,P.jsxs)("label",{children:["Choose Station ",(0,P.jsx)("span",{className:"RedClass",children:"*"})]}),(0,P.jsx)(k.ZP,{className:"fcapitalize-text",onBlur:d,value:null===O||void 0===O?void 0:O.find((function(n){return n.value===l.stationId})),onChange:function(n){j("stationId",n.value)},options:null===O||void 0===O?void 0:O.map((function(n){return(0,i.Z)((0,i.Z)({},n),{},{label:n.label.charAt(0).toUpperCase()+n.label.slice(1)})}))}),(0,P.jsx)(L,{field:"stationId"})]}),(0,P.jsxs)("div",{className:"col-md-6 form-group",children:[(0,P.jsxs)("label",{children:["Name ",(0,P.jsx)("span",{style:{color:"red",fontWeight:"bold"},children:"*"})]}),(0,P.jsx)("input",{type:"text",className:"form-control react-form-input",id:"title",onChange:u,onBlur:d,value:l.title,placeholder:"Name"}),(0,P.jsx)(L,{field:"title"})]}),(0,P.jsxs)("div",{className:"col-md-6 form-group",children:[(0,P.jsxs)("label",{children:["Description"," ",(0,P.jsx)("span",{style:{color:"red",fontWeight:"bold"},children:"*"})]}),(0,P.jsx)("input",{type:"text",className:"form-control react-form-input",id:"description",onChange:u,onBlur:d,value:l.description,placeholder:"Description"}),(0,P.jsx)(L,{field:"description"})]}),(0,P.jsxs)("div",{className:"col-md-6 form-group",children:[(0,P.jsxs)("label",{children:["Image ",(0,P.jsx)("span",{style:{color:"red",fontWeight:"bold"}})]}),(0,P.jsx)("input",{type:"file",className:"form-control react-form-input",id:"image",onChange:function(n){return j("image",n.target.files[0])},onBlur:d,placeholder:"Image",accept:"image/*"}),l.image&&"object"===typeof l.image?(0,P.jsx)("img",{src:URL.createObjectURL(l.image),height:80,width:100,alt:"".concat(l._id,"_image")}):l.image&&"string"===typeof l.image?(0,P.jsx)("img",{src:"".concat("http://3.142.224.88:8000","/").concat(l.image),height:80,width:100,alt:"".concat(l._id,"_image")}):null]})]}),(0,P.jsxs)("div",{className:"row justify-content-center",children:[(0,P.jsx)("button",{color:"success",onClick:function(n){return E(n)},type:"submit",className:"btn btn-success mx-3 btnsize",disabled:C,children:e?"Update":"Save"}),(0,P.jsx)("button",{onClick:function(){s()},className:"btn btn-secondary btnsize",children:"Cancel"})]})]})]})})),M=m.Z.success,O=m.Z.error,D=m.Z.fetching,E=(0,h.qC)((0,d.$j)((function(n){return{accessToken:n.auth.accessToken}}),{success:M,error:O,fetching:D}))((function(n){var e=n.accessToken,t=n.error,d=n.success,h=n.fetching,m=(0,c.useState)([]),y=(0,o.Z)(m,2),w=y[0],S=y[1],_=(0,c.useState)(0),N=(0,o.Z)(_,2),B=N[0],C=N[1],k=(0,c.useState)(1),T=(0,o.Z)(k,2),I=T[0],z=T[1],A=(0,c.useState)(!0),M=(0,o.Z)(A,2),O=M[0],D=M[1],E=(0,c.useState)(!1),L=(0,o.Z)(E,2),F=L[0],H=L[1],W=(0,c.useState)(!1),q=(0,o.Z)(W,2),U=q[0],V=q[1],Y=(0,c.useState)(!1),G=(0,o.Z)(Y,2),$=(G[0],G[1]),J=(0,c.useState)(10),K=(0,o.Z)(J,2),Q=K[0],X=(K[1],(0,c.useState)("")),nn=(0,o.Z)(X,2),en=nn[0],tn=nn[1],an=(0,c.useState)(1),rn=(0,o.Z)(an,2),on=(rn[0],rn[1]),cn=(0,c.useState)(""),sn=(0,o.Z)(cn,2),ln=sn[0],un=sn[1],dn=(0,c.useState)("asc"),hn=(0,o.Z)(dn,2),mn=hn[0],pn=hn[1],fn=(0,c.useState)(),gn=(0,o.Z)(fn,2),xn=gn[0],bn=gn[1],vn=(0,c.useState)(""),jn=(0,o.Z)(vn,2),Zn=jn[0],yn=jn[1],wn=(0,c.useState)({}),Sn=(0,o.Z)(wn,2),_n=Sn[0],Nn=Sn[1],Bn=function(n){var e=n.title,t=n.renderSortArrow;return(0,P.jsxs)("div",{children:[e,t&&t()]})},Cn=(0,c.useMemo)((function(){return[{Header:function(n){return(0,P.jsx)(Bn,{title:"Name",renderSortArrow:function(){return Mn(n.column.id)}})},accessor:"name"},{Header:function(n){return(0,P.jsx)(Bn,{title:"Description",renderSortArrow:function(){return Mn(n.column.id)}})},accessor:"description"},{Header:function(n){return(0,P.jsx)(Bn,{title:"Image",renderSortArrow:function(){return Mn(n.column.id)}})},accessor:"image",Cell:function(n){var e;return(0,P.jsx)("div",{className:"d-flex",children:(0,P.jsx)("img",{src:"".concat("http://3.142.224.88:8000","/").concat(n.row.values.image),width:100,height:80,alt:"".concat(null===(e=n.row.values)||void 0===e?void 0:e._id,"_image")})})}},{Header:function(n){return(0,P.jsx)(Bn,{title:"Action"})},accessor:"action",Cell:function(n){return(0,P.jsxs)("div",{className:"d-flex",children:[(0,P.jsx)("div",{children:(0,P.jsx)(x.Z,{size:18,onClick:function(){V(!0),H(!0),Nn((0,i.Z)((0,i.Z)({},null===n||void 0===n?void 0:n.row.original),{},{title:null===n||void 0===n?void 0:n.row.original.name}))},className:"action-edit "})}),(0,P.jsx)("div",{className:"ml-3",children:(0,P.jsx)(b.Z,{size:20,className:"action-delete",onClick:function(){var e;bn(!0),yn(null===(e=n.row.original)||void 0===e?void 0:e._id)}})})]})}}]}),[O]),kn=(0,s.useTable)({data:w,columns:Cn,manualSortBy:!0,initialState:{pageSize:Q,pageIndex:0}},s.useSortBy,s.usePagination),Tn=kn.getTableProps,Pn=kn.getTableBodyProps,In=kn.prepareRow,zn=kn.rows,An=(kn.state.pageIndex,kn.headerGroups),Rn=(0,c.useCallback)((0,r.Z)((0,a.Z)().mark((function n(){var r;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return $(!0),r={currentPage:B+1,limit:Q,search:en,sortBy:ln,sortOrder:mn},n.next=4,Z(e,r).then((function(n){n.success?(S(n.data.docs),z(n.data.totalPages),D(!1),$(!1)):t(n.message)}));case 4:case"end":return n.stop()}}),n)}))));(0,c.useEffect)((function(){O&&Rn()}),[O,B]),(0,c.useEffect)((function(){if(void 0!==en){var n=setTimeout((function(){return C(0)}),Rn(),100);return function(){return clearTimeout(n)}}}),[en]);var Mn=function(n){return n!==ln?null:"asc"!==mn?(0,P.jsx)("i",{className:"fa fa-sort-down ml-1 text-dark"}):(0,P.jsx)("i",{className:"fa fa-sort-up ml-1 text-dark"})},On=function(){var n=(0,r.Z)((0,a.Z)().mark((function n(){var t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return h(),n.next=3,a=e,r=Zn,(0,j.hi)(a).delete("admin/nearBy/deleteNearByLocation/".concat(r)).then(j._y).catch(j.S3);case 3:(t=n.sent).success&&(bn(!1),d(t.message),D(!0));case 5:case"end":return n.stop()}var a,r}),n)})));return function(){return n.apply(this,arguments)}}();return(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)("div",{className:"row d-flex justify-content-end",children:[(0,P.jsx)("div",{className:"col-lg-4 col-md-6 ",children:(0,P.jsx)("input",{className:"form-control react-form-input mt-2",type:"search",placeholder:"Search Location Name",onChange:function(n){tn(n.target.value),on(1)}})}),(0,P.jsx)("div",{className:"mt-1 ml-2",children:(0,P.jsxs)("button",{type:"submit",className:" btn btn-success w-10  mr-5 addbtncolor",onClick:function(){H(!0)},children:[(0,P.jsx)(f.Z,{className:"mt-1"}),"Add Near By Location"]})}),(0,P.jsxs)("div",{className:"col-12",children:[(0,P.jsxs)(u.Z,(0,i.Z)((0,i.Z)({},n),{},{children:[(0,P.jsx)("div",{className:"table-responsive table-white-box mt-2",children:(0,P.jsx)("div",{style:{maxHeight:"calc(100vh - 250px)",position:"relative"},children:(0,P.jsxs)("table",(0,i.Z)((0,i.Z)({className:"table"},Tn()),{},{children:[(0,P.jsx)("thead",{style:{position:"sticky",top:"-20px",zIndex:1},children:An.map((function(n){return(0,P.jsx)("tr",(0,i.Z)((0,i.Z)({},n.getHeaderGroupProps()),{},{children:n.headers.map((function(n){return(0,P.jsx)("th",(0,i.Z)((0,i.Z)({},n.getHeaderProps(n.getSortByToggleProps())),{},{onClick:function(){var e;"id"!==(e=n.id)&&(ln===e?(on(1),pn("asc"===mn?"desc":"asc"),D(!0)):(on(1),un(e),pn("asc"),D(!0)))},children:(0,P.jsx)("div",{children:n.render("Header")})}))}))}))}))}),w.length?(0,P.jsx)("tbody",(0,i.Z)((0,i.Z)({},Pn()),{},{children:zn.map((function(n){return In(n),(0,P.jsx)("tr",(0,i.Z)((0,i.Z)({},n.getRowProps()),{},{children:n.cells.map((function(n){return(0,P.jsx)("td",(0,i.Z)((0,i.Z)({},n.getCellProps()),{},{className:"email"===n.column.id?"text-lowercase":null,children:n.render("Cell")}))}))}))}))})):O||w.length?(0,P.jsx)(p.Z,{}):(0,P.jsx)("tr",{children:(0,P.jsx)("td",{className:"mt-4 text-center font-weight-bold",colSpan:6,children:(0,P.jsx)("h5",{children:"No data found"})})})]}))})}),(0,P.jsx)(l.Z,{onPageChange:function(n){C(n),D(!0)},page:B,pages:I})]})),(0,P.jsx)(v.Z,{isOpen:F,backdrop:!0,size:"lg",children:F&&(0,P.jsx)(R,{isEdit:U,editData:_n,onClose:function(){H(!1),V(!1),Nn({})},toggleRefresh:function(n){return D(n)}})}),(0,P.jsx)(v.Z,{isOpen:xn,backdrop:!0,children:xn&&(0,P.jsx)(g.Z,{isOpen:xn,onClose:function(){return bn(!1)},confirmText:"Delete",cancelBtnBsStyle:" modalcancelbutton btn btn-secondary",message:"Are you sure you want to delete?",handleConfirm:function(){return On()}})})]})]})})}))}}]);